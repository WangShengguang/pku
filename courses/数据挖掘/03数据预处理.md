# 数据挖掘

## 3 数据预处理

### 3.1 数据预处理：概述

#### 3.1.1 数据质量：为什么要对数据预处理

数据质量：准确性、完整性、一致性、时效性、可信性和可解释性

三要素：准确性、完整性、一致性

数据有可能是不完整的（缺少某些属性）、不正确的或含噪声的（包含错误或者存在偏离期望的值），并且是不一致的（各个部门对同一商品的编码存在差异）

#### 3.1.2 数据预处理的主要任务

数据清理、数据集成、数据归纳和数据变换

**数据清理**：通过填写缺失值，光滑噪声数据，识别或删除离群点，并解决不一致性来“清理”数据。

**数据集成**：集成多个数据库、数据立方体或文件。代表同一概念的属性在不同数据库可能有不同的名字，导致不一致性和冗余。

**数据规约**

- 维规约

  使用数据编码方案，以便得到原始数据的简化或“压缩”表示。包括数据压缩技术、属性子集选择和属性构造。

- 数值规约

  使用参数模型（回归和对数线性模型）或非参数模型（直方图、聚类、抽样或数据聚集），用较小的表示取代数据。

**数据变换**：规范化、数据离散化和概念分层

### 3.2 数据清理

#### 3.2.1 缺失值

- 忽略元组：当缺少类标号时通常这样做（假定挖掘任务涉及分类）。忽略元组时不能使用该元组的剩余属性值。
- 人工填写缺失值：费时，数据量大、缺失值多时行不通
- 使用一个全局常量填充缺失值：将缺失值使用同一个常量，如“unknown”替换。可能挖掘程序会为“unknown”形成一种特殊概念，并不十分可靠
- 使用属性的中心度量（如均值或中位数）填充缺失值
- 使用与给定元组属同一类的所有样本的属性均值或中位数
- 使用最可能的值填充缺失值：使用回归、贝叶斯形式化方法的基于推理的工具或决策树归纳确定

#### 3.2.2 噪声数据

噪声（noise）是被测量变量的随机误差或方差。

**分箱（binning）**：通过考察数据的“近邻”（即周围的值）来光滑有序数据值。

- 箱均值光滑：箱中的每一个值替换为箱中的均值。
- 箱中位数光滑：箱中的每一个值替换为箱中的中位数。
- 箱边界光滑：箱中的每一个值替换为箱中的最邻近边界值（最大值或最小值）。

**回归**：用一个函数拟合数据来光滑数据。

**离群点分析**：通过聚类来检测离群点。

#### 3.2.3 数据清理作为一个过程

偏差检测  &rarr;  

**字段过载**：将新属性定义挤进已定义的属性的未使用部分（使用一个属性未使用的位，该属性已经使用了32位的31位）

 ### 3.3 数据集成

合并来自多个数据存储的数据。有助于减少结果集的冗余和不一致。

#### 3.3.1 实体识别问题

如何确定一个数据库的customer_id与另一个数据库的cust_number指的是相同的属性？每个属性的元数据包括名字、含义、数据类型和属性的允许取值范围，以及处理空白、零或NULL值得空值规则。

#### 3.3.2 冗余和相关分析

一个属性如果能由另一个属性导出，则这个属性可能是冗余的。属性或维命名的不一致也可能导致结果数据集中的冗余。

**相关分析**：根据给定数据，度量一个属性能在多大程度上蕴涵另外一个属性。

- 标称数据的卡方相关检验

- 数值数据的相关系数

  计算A和B的相关系数（Pearson积矩系数）

- 数值数据的协方差

#### 3.3.3 元组重复

#### 3.3.4 数据冲突的检测与处理

单位不一致等

### 3.4 数据规约（data reduction）

用来得到数据集的规约表示，比原数据集小得多，但仍接近于保持原数据的完整性。

#### 3.4.1 数据规约策略概述

- 维规约（dimensionality reduction）：减少所考虑的随机变量或属性个数
- 数量规约（numerosity reduction）：用替代的、较小的数据表示形式替换原数据
- 数据压缩（data compression）：使用变换，以便得到原数据的规约或“压缩”表示。

#### 3.4.2 小波变换

**离散小波变换（DWT）**是一种线性信号处理技术，用于数据向量**X**时，将它变换成不同的数值小波系数向量**X'**

#### 3.4.3 主成分分析

主成分分析（principal components analysis）或PCA（又称Karhunen-Loeve或K-L方法）搜索k和最能代表数据的n维正交向量。

#### 3.4.4 属性子集选择

通过删除不相关或冗余属性（或维）减少数据量。

- 逐步向前选择：每次迭代取出最佳属性
- 逐步向后删除：每次迭代删除最差属性
- 逐步向前选择和逐步向后删除的组合：选出最好属性并删除最差属性
- 决策树归纳：用于分类

#### 3.4.5 回归和对数线性模型：参数化数据规约

回归和对数线性模型可以用来近似给定的数据

#### 3.4.6 直方图

使用分箱来近似数据分布，是一种流行的数据规约形式。

桶的属性和属性值的划分：

- 等宽
- 等频（等深）

#### 3.4.7 聚类

把数据元组看作对象。将对象划分为群或簇

#### 3.4.8 抽样

用随机样本表示大型数据

- s个样本的无放回简单随机抽样（SRSWOR）

- s个样本的有放回简单随机抽样（SRSWR）
- 簇抽样：D中的元组被分组，放入M个不相交的“簇”，可得到s个簇的简单随机抽样（SRS）
- 分层抽样：D被划分成互不相交的部分，称作“层”，通过对每层的SRS就可以得到D的分层抽样

#### 3.4.9 数据立方体聚集

数据立方体存储多维聚集信息

- 基本立方（base cuboid）：在最低抽象层创建的立方体
- 定点立方（apex cuboid）：最高抽象的立方体



### 3.5 数据变换与数据离散化

#### 3.5.1 数据变换策略概述

- 光滑
- 属性构造（特征构造）
- 聚集
- 规范化
- 离散化
- 由标称数据产生概念分层

#### 3.5.2 通过规范化变换数据

- 最小-最大规范化：

  v = v-min/max-min

- z分数（z-score）规范化（或零均值规范化）
- 小数定标规范化：移动A的小数点位置进行规范化

#### 3.5.3 通过分箱离散化

#### 3.5.4 通过直方图分析离散化

#### 3.5.5 通过聚类、决策树和相关分析离散化

#### 3.5.6 标称数据的概念分层产生

- 由用户或专家在模式级显示地说明属性的部分序
- 通过显式数据分组说明分层结构的一部分
- 说明属性集但不说吗它们的偏序
- 只说明部分属性集





